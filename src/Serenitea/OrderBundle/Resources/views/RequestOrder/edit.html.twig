    {% extends "CatalystTemplateBundle::base.html.twig" %}
{% import "CatalystTemplateBundle::form.html.twig" as form %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="portlet box blue-hoki">
            <div class="portlet-title">
                <div class="caption">Incomplete Deliveries</div>
            </div>

            <div class="portlet-body form">
                <form method="post" class="form-horizontal">
                    <div class="form-body">
                        <div>
                            <a id="btn_en_add" href="#en_form" class="btn green" data-toggle="modal">Print</a>       
                        </div>

                        <div class="row table-responsive" style="padding-top:10px">
                            <div class="col-md-12">
                                <table class="table table-striped table-bordered table-hover" aria-describedby="list_table_info">    
                                    <thead>
                                        <th style="width:30%">Description</th>
                                        <th style="width:30%">Requested Quantity</th>                                        
                                        <th style="width:30%">Received Quantity</th>                                              
                                        <th style="width:10%"></th>
                                    </thead> 

                                    <tr>
                                        <td colspan="4">
                                            <div class="accordion" id="accordion2">
                                                <div class="accordion-group">
                                                    <div class="accordion-heading">                                    
                                                        <table class="table content-heading">
                                                        <tr>
                                                            <td style="width:30%" align="left">Frost Powder</td>
                                                            <td style="width:30%" align="right">3</td>
                                                            <td style="width:30%" align="right">3</td>                                  
                                                            <td align="right"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne"><i class="glyphicon glyphicon-chevron-down"></i></td>
                                                            <td><a id="btn_en_add_one" href="#action_form" data-toggle="modal"><i class="glyphicon glyphicon-plus font-blue"></i></a></td>
                                                        </tr>
                                                    </table>                                                
                                                </div>

                                                <div id="collapseOne" class="accordion-body collapse out">
                                                    <div class="accordion-inner" align="center">
                                                        <table id="table1" class="table accordion-contentone">                                                  
                                                        </table>
                                                    </div>
                                                </div>

                                                <div class="accordion-group">
                                                    <div class="accordion-heading">                                         
                                                        <table class="table content-heading">
                                                            <tr>
                                                                <td style="width:30%"  align="left">Taro Jelly</td>
                                                                <td style="width:30%" align="right">3</td>
                                                                <td style="width:30%" align="right">3</td>                        
                                                                <td  align="right"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo"><i class="glyphicon glyphicon-chevron-down"></i></td>
                                                                <td><a id="btn_en_add_two" href="#action_form" data-toggle="modal"<i class="glyphicon glyphicon-plus font-blue"></i></a></td>
                                                            </tr>
                                                        </table>                                              
                                                    </div>
                                                    
                                                    <div id="collapseTwo" class="accordion-body collapse out">
                                                        <div class="accordion-inner" align="center">
                                                            <table id="table2" class="table accordion-contenttwo">                                                  
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="accordion-group">
                                                    <div class="accordion-heading">                                         
                                                        <table class="table content-heading">
                                                            <tr>
                                                                <td style="width:30%" align="left">Oreo Strawberry</td>
                                                                <td style="width:30%" align="right">3</td>
                                                                <td style="width:30%" align="right">3</td>                     
                                                                <td align="right"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseThree"><i class="glyphicon glyphicon-chevron-down"></i></td>
                                                                <td ><a id="btn_en_add_three" href="#action_form" data-toggle="modal"<i class="glyphicon glyphicon-plus font-blue"></i></a></td>
                                                            </tr>
                                                        </table>                                              
                                                    </div>
                                                    
                                                    <div id="collapseThree" class="accordion-body collapse out">
                                                        <div class="accordion-inner" align="center">
                                                            <table id="table3" class="table accordion-contentthree">                                                  
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="accordion-group">
                                                    <div class="accordion-heading">                                         
                                                        <table class="table content-heading">
                                                            <tr>
                                                                <td style="width:30%"align="left">Yakult</td>
                                                                <td style="width:30%" align="right">3</td>
                                                                <td style="width:30%" align="right">3</td>                        
                                                                <td align="right"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseFour"><i class="glyphicon glyphicon-chevron-down"></i></td>
                                                                <td><a id="btn_en_add_four" href="#action_form" data-toggle="modal"<i class="glyphicon glyphicon-plus font-blue"></i></a></td>
                                                            </tr>
                                                        </table>                                              
                                                    </div>
                                                    
                                                    <div id="collapseFour" class="accordion-body collapse out">
                                                        <div class="accordion-inner" align="center">
                                                            <table id="table4" class="table accordion-contentfour">                                                  
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>                                                              
                            </table>
                        </div>
                    </div>   
                        
                    <div class="form-actions fluid">
                        <div class="col-md-9">
                            <button type="submit" class="btn blue">Submit</button>
                            <a href="{{ path(route_list) }}" class="btn default">&lt; Back</a>
                        </div>
                    </div>
                </form>       
            </div>
        </div>
    </div>
</div>

<div id="action_form" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title">Add Quantity</h4>
            </div>
            <div class="modal-body">
                <div class="row form-horizontal form">
                    <div class="form-body">
                        <div class="form-group">                   

                        {{ form.group_number('Quantity', '','',3,6)}}                                                

                        <div class="form-group">
                            <label class="col-md-3 control-label">Status</label>
                                <div class="col-md-6">
                                    <select class="form-control select_2" id="actions">
                                        <option value="returned">Returned</option>
                                        <option value="damaged">Damaged</option>
                                        <option value="received">Received</option>
                                    </select>
                                </div>
                        </div>
                           
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="add-field" type="button" class="btn green btn_en_del btn_dim_del">Add</button>
                <button id="remove-field" type="button" data-dismiss="modal" class="btn default">Cancel</button>                
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}

<script>
    $(document).ready(function() {        
        var wrapperone = $("#table1");
        var wrappertwo = $("#table2");
        var wrapperthree = $("#table3");
        var wrapperfour = $("#table4");
        var add_button = $("#add-field");       

        var click1 = false;
        var click2 = false;
        var click3 = false;
        var click4 = false;   

        $('#btn_en_add_one').click(function(){            
            click1 = true;
        });

        $('#btn_en_add_two').click(function(){            
            click2 = true;
        });

        $('#btn_en_add_three').click(function(){            
            click3 = true;
        });

        $('#btn_en_add_four').click(function(){            
            click4 = true;
        });
    
        $(add_button).click(function(e){
            e.preventDefault();
            var status = $("#actions").val();

            if(click1 == true){

                $(wrapperone).append('<tr class="'+ status +'"><td>Quantity:</td><td> <input type="number" class="form-control" readonly></td><td>Expiration Date:</td><td> <input type="date" class="form-control" readonly></td><td>Remarks:</td><td><input type="text" class="form-control"> </td><td><a href="#" class="remove_field"><i class="icon-close font-grey-steel"></i></a></td><tr>');   

                click1 = false;
            }         
            
            else if(click2 == true){
                $(wrappertwo).append('<tr class="'+ status +'"><td>Quantity:</td><td> <input type="number" class="form-control" readonly></td><td>Expiration Date:</td><td> <input type="date" class="form-control" readonly></td><td>Remarks:</td><td><input type="text" class="form-control"> </td><td><a href="#" class="remove_field"><i class="icon-close font-grey-steel"></i></a></td><tr>');   

                click2 = false;
            }

            else if(click3 == true){
                $(wrapperthree).append('<tr class="'+ status +'"><td>Quantity:</td><td> <input type="number" class="form-control" readonly></td><td>Expiration Date:</td><td> <input type="date" class="form-control" readonly></td><td>Remarks:</td><td><input type="text" class="form-control"> </td><td><a href="#" class="remove_field"><i class="icon-close font-grey-steel"></i></a></td><tr>');   

                click3 = false;
            }

            else if(click4 == true){
                $(wrapperfour).append('<tr class="'+ status +'"><td>Quantity:</td><td> <input type="number" class="form-control" readonly></td><td>Expiration Date:</td><td> <input type="date" class="form-control" readonly></td><td>Remarks:</td><td><input type="text" class="form-control"> </td><td><a href="#" class="remove_field"><i class="icon-close font-grey-steel"></i></a></td><tr>');   

                click4 = false;
            }
                           
            $("#action_form").modal('hide');
        });                        


        $(wrapperone).on("click",".remove_field", function(e){
            e.preventDefault();            
            var tr = $(this).closest('tr');

            tr.fadeOut(function(){
                tr.remove();
                
            });
            return false;
        });

        $(wrappertwo).on("click",".remove_field", function(e){
            e.preventDefault();            
            var tr = $(this).closest('tr');

            tr.fadeOut(function(){
                tr.remove();
                
            });
            return false;
        });

        $(wrapperthree).on("click",".remove_field", function(e){
            e.preventDefault();            
            var tr = $(this).closest('tr');

            tr.fadeOut(function(){
                tr.remove();
                
            });
            return false;
        });

        $(wrapperfour).on("click",".remove_field", function(e){
            e.preventDefault();            
            var tr = $(this).closest('tr');

            tr.fadeOut(function(){
                tr.remove();
                
            });
            return false;
        });

    });
</script>

{% endblock %}